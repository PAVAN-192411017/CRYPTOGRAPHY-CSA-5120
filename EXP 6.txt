#include <stdio.h>
#include <ctype.h>

int main() {
    char ciphertext[1000];
    printf("Enter ciphertext: ");
    fgets(ciphertext, sizeof(ciphertext), stdin);

    int a = 3;
    int b = 15;

    // inverse of a mod 26
    int a_inv = 9;

    printf("\nDecrypted plaintext: ");

    for (int i = 0; ciphertext[i] != '\0'; i++) {
        char c = ciphertext[i];

        if (isalpha(c)) {
            c = toupper(c) - 'A';

            int p = (a_inv * (c - b + 26)) % 26;
            printf("%c", p + 'A');
        } else {
            printf("%c", ciphertext[i]);
        }
    }

    printf("\n");
    return 0;
}
